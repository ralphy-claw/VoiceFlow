# GitHub Issues (JSON)
[{"body":"## Description\nAdd a Settings screen where the user can manage API keys. Structure it to support multiple services, but initially only OpenAI is needed.\n\n## Requirements\n\n### Settings Screen\n- Accessible from a gear icon in the tab bar or navigation bar\n- Organized by service provider (section-based)\n\n### API Key Management\n- **OpenAI section** (first and only for now):\n  - API key input field (SecureField, masked by default, tap to reveal)\n  - Store in iOS Keychain (not UserDefaults, not plaintext)\n  - \"Test\" button that makes a lightweight API call to validate the key\n  - Status indicator (valid/invalid/untested)\n- Architecture should make adding new providers trivial:\n  - Protocol/interface: `ServiceProvider` with name, apiKey, validation method\n  - ElevenLabs, local Whisper toggle, etc. can be added later\n\n### Integration\n- Remove hardcoded API key from Config.swift\n- All API calls should read key from Keychain via a KeychainService\n- Show onboarding prompt if no API key is set on first launch\n\n## Acceptance Criteria\n- [ ] Settings screen accessible from main UI\n- [ ] OpenAI API key can be entered and saved to Keychain\n- [ ] Key is masked by default in the UI\n- [ ] Test button validates the key\n- [ ] All API calls use the Keychain-stored key\n- [ ] No hardcoded keys in source code\n- [ ] First launch prompts for API key\n- [ ] Provider structure is extensible\n\n## File Hints\n- Create: VoiceFlow/Settings/SettingsView.swift\n- Create: VoiceFlow/Services/KeychainService.swift\n- Create: VoiceFlow/Services/ServiceProvider.swift\n- VoiceFlow/Config.swift (remove hardcoded key)\n- VoiceFlow/OpenAIService.swift (read from Keychain)","comments":[],"labels":[{"id":"LA_kwDORO8-R88AAAACX7kE7Q","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"number":4,"title":"Add settings screen with structured API key management"},{"body":"## Description\nAdd a history list view to each tab showing past operations. Users can tap to view details, copy text, or replay audio.\n\n## Requirements\n\n### Transcribe Tab\n- History list below the record/import controls\n- Each row: truncated text preview + timestamp\n- Tap to expand: full transcription text, copy button\n- Swipe to delete\n\n### Speak Tab  \n- History list below the TTS controls\n- Each row: truncated input text + voice used + timestamp\n- Tap to expand: full text, replay audio button, copy text button\n- Swipe to delete (also removes stored audio file)\n\n### Summarize Tab\n- History list below the summarize controls\n- Each row: truncated input text + timestamp\n- Tap to expand: full original text + summary, copy buttons for both\n- Swipe to delete\n\n## UI Guidelines\n- Use `List` with sections (current operation on top, history below)\n- Match the dark theme + Bitcoin orange accent from issue #1\n- Empty state: subtle message like \"No history yet\"\n- Consider a detail sheet/view for expanded records\n\n## Acceptance Criteria\n- [ ] History list visible on all 3 tabs\n- [ ] Records display with text preview and timestamp\n- [ ] Tap to view full details\n- [ ] Copy button works on expanded records\n- [ ] Replay works for TTS history\n- [ ] Swipe to delete works\n- [ ] Empty state handled gracefully\n\n## Dependencies\n- Issue #2 (SwiftData models must exist)\n\n## File Hints\n- VoiceFlow/TranscribeView.swift\n- VoiceFlow/SpeakView.swift\n- VoiceFlow/SummarizeView.swift","comments":[],"labels":[{"id":"LA_kwDORO8-R88AAAACX7kE7Q","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"number":3,"title":"Add history UI to all three tabs"},{"body":"## Description\nAdd persistent history for all three features using SwiftData. Each tab should store past operations locally on device.\n\n## Data Models\n- **TranscriptionRecord**: id, timestamp, sourceType (recording/import), transcribedText, duration (optional)\n- **TTSRecord**: id, timestamp, inputText, voiceUsed, audioFilePath (store generated audio locally)\n- **SummaryRecord**: id, timestamp, inputText, summaryText\n\n## Requirements\n- Use SwiftData with `@Model` classes\n- ModelContainer configured in the App entry point\n- Store audio files for TTS in app's documents directory\n- Each record should be deletable (swipe to delete)\n- Sort by timestamp descending (newest first)\n\n## Acceptance Criteria\n- [ ] SwiftData models created for all 3 types\n- [ ] ModelContainer configured in VoiceFlowApp\n- [ ] Records persist across app launches\n- [ ] Records can be deleted\n- [ ] Audio files for TTS stored and retrievable\n\n## File Hints\n- Create: VoiceFlow/Models/TranscriptionRecord.swift\n- Create: VoiceFlow/Models/TTSRecord.swift\n- Create: VoiceFlow/Models/SummaryRecord.swift\n- VoiceFlow/VoiceFlowApp.swift","comments":[],"labels":[{"id":"LA_kwDORO8-R88AAAACX7kE7Q","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"number":2,"title":"Add local history persistence with SwiftData"},{"body":"## Description\nApply a dark theme inspired by Anthropic's design language with Bitcoin orange (`#F7931A`) as the primary accent color.\n\n## Requirements\n- Dark background (experiment with near-black tones — e.g. `#1A1A2E`, `#0D0D0D`, or Anthropic's dark charcoal)\n- Bitcoin orange (`#F7931A`) for all primary buttons, active states, and key accents\n- Clean, minimal typography — SF Pro or system default\n- Consistent across all 3 tabs (Transcribe, Speak, Summarize)\n- Support both light and dark system appearance (dark theme always, or adapt)\n- Ensure good contrast and readability\n- Tab bar icons should use the orange accent when selected\n\n## Acceptance Criteria\n- [ ] Dark background applied globally\n- [ ] All primary buttons use Bitcoin orange\n- [ ] Tab bar uses orange accent for selected state\n- [ ] Text is readable with good contrast ratios\n- [ ] Consistent look across all tabs\n\n## File Hints\n- VoiceFlow/ContentView.swift\n- VoiceFlow/TranscribeView.swift\n- VoiceFlow/SpeakView.swift\n- VoiceFlow/SummarizeView.swift","comments":[],"labels":[{"id":"LA_kwDORO8-R88AAAACX7kE7Q","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"number":1,"title":"Dark theme with Bitcoin orange accents"}]

# Previous RALPH Commits


# Progress Log
# Ralph Progress Log — VoiceFlow
Started: 2026-02-12

## Codebase Patterns
- SwiftUI tab-based app with 3 tabs: Transcribe, Speak, Summarize
- OpenAIService is an actor for thread-safe API calls
- Config.swift holds API key (to be migrated to Keychain)
- Uses AVFoundation for audio recording/playback
- iOS 17+ target, modern Swift concurrency throughout

---
