# Ralph Progress Log â€” VoiceFlow
Started: 2026-02-12

## Codebase Patterns
- SwiftUI tab-based app with 3 tabs: Transcribe, Speak, Summarize
- OpenAIService is an actor for thread-safe API calls
- Config.swift holds API key (to be migrated to Keychain)
- Uses AVFoundation for audio recording/playback
- iOS 17+ target, modern Swift concurrency throughout

---
2026-02-12 23:25 - Issue #1: Dark theme with Bitcoin orange accents - DONE (commit 1477b7d)

## Issue #2 - Add local history persistence with SwiftData
- Created SwiftData @Model classes: TranscriptionRecord, TTSRecord, SummaryRecord in VoiceFlow/Models/
- Configured ModelContainer in VoiceFlowApp.swift for all 3 model types
- Updated TranscribeView, SpeakView, SummarizeView to save records after each operation
- TTS audio files saved to app's documents directory
- Added model files to Xcode project (pbxproj)
- Build succeeded (iPhone 17 Pro simulator)
- Committed: 0944f98

## Issue #3 - Add history UI to all three tabs
- Commit: 11334cb
- Added @Query with descending timestamp sort to all three tab views
- TranscribeView: history section with expandable rows showing source icon, text preview, timestamp; tap to expand with full text + copy; swipe to delete
- SpeakView: history section with voice badge, expandable rows with replay audio from saved file + copy text; swipe to delete also removes stored audio file
- SummarizeView: history section with expandable rows showing original text + summary with separate copy buttons; swipe to delete
- All views converted from VStack to List with sections (controls on top, history below)
- Dark theme with bitcoinOrange accent maintained throughout
- Empty state "No history yet" shown when no records exist
- Build succeeded on iPhone 17 Pro simulator
Fri Feb 13 00:01:27 EET 2026: #5 - Keyboard extension target + App Group setup - DONE (e0f111d)
